<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Home Page</title>
    <link href="https://unpkg.com/tailwindcss@1.4.6/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine-ie11.min.js" defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="assets/ace/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body class="static h-screen overflow-hidden flex items-center justify-center" style="background: #edf2f7;">
    <!-- Galaxy -->
    <div id="alert" class="absolute right-0 bottom-0 z-50 mr-5 mb-5 ">
        
    </div>
    <div id="loading" class="absolute right-0 bottom-0 z-40 mr-5 mb-5 ">
        
    </div>

    <div class="h-screen w-full flex antialiased text-gray-200 bg-gray-900 overflow-hidden">
        <div class="flex-1 flex flex-col">
            <div class="border-b-2 border-gray-800 p-2 flex justify-between flex-row z-20">
                <!-- <div class="bg-red-600 w-3 h-3 rounded-full mr-2"></div>
              <div class="bg-yellow-500 w-3 h-3 rounded-full mr-2"></div>
              <div class="bg-green-500 w-3 h-3 rounded-full mr-2"></div> -->
                <div class="header p-2 flex flex-row justify-between items-center flex-none">
                    <!-- <div class="w-16 h-16 relative flex flex-shrink-0" style="filter: invert(100%);">
                      <img class="rounded-full w-full h-full object-cover" alt="ravisankarchinnam" src="https://avatars3.githubusercontent.com/u/22351907?s=60" />
                  </div> -->
                    <a href="index.html">
                        <p class="text-3xl text-blue-600 font-bold hidden md:block group-hover:block">Galaxy</p>
                    </a>

                </div>
                <div class="flex justify-between items-center p-3 hover:bg-gray-800 rounded-lg relative">
                    <div class="w-10 h-10 relative flex flex-shrink-0">
                        <img id="imageAccount" class="shadow-md rounded-full w-full h-full object-cover" src=""
                            alt="" />
                    </div>
                    <div class="flex-auto min-w-0 ml-4 mr-6 hidden md:block group-hover:block">
                        <p class="font-bold">Hello, <span id="nameAccount"></span></p>
                    </div>
                    <div class="bg-blue-700 w-3 h-3 rounded-full flex flex-shrink-0 hidden md:block group-hover:block"
                        @click='localStorage.clear(); console.log("clear"); location.href = "signin.html";'
                        x-data="{ }">
                    </div>
                </div>

            </div>
            <main class="flex-grow flex flex-row min-h-0">
                <section
                    class="flex flex-col flex-none overflow-auto w-24 group lg:w-1/5 md:w-2/5 transition-all duration-300 ease-in-out ">

                    <div class="search-box mt-2 p-2 flex-none">
                        <form onsubmit="">
                            <div class="relative">
                                <label>
                                    <input
                                        class="rounded-md py-2 pr-6 pl-10 w-full border border-gray-800 focus:border-gray-700 bg-gray-800 focus:bg-gray-900 focus:outline-none text-gray-200 focus:shadow-md transition duration-300 ease-in"
                                        type="text" value="" placeholder="Search File" />
                                    <span class="absolute top-0 left-0 mt-2 ml-3 inline-block">
                                        <svg viewBox="0 0 24 24" class="w-6 h-6">
                                            <path fill="#bbb"
                                                d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" />
                                        </svg>
                                    </span>
                                </label>
                            </div>
                        </form>
                    </div>

                    <div id="allFile" class="contacts p-2 flex-1 overflow-y-scroll">


                    </div>

                    <div class=" mt-2  p-2 flex-none" id="uploadFileButton">
                        <button
                            class="w-full content-center text-white px-4 w-auto h-10 bg-blue-700 rounded-md hover:bg-blue-800 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none">
                            <span class="inline-block material-icons align-top">
                                upload
                            </span>
                            <span class="inline-block">Upload Your File</span>

                    </div>
                    <div class="  mb-2 p-2 flex-none" id="createNewFileButton">
                        <button
                            class="w-full text-white px-4 w-auto h-10 bg-blue-700 rounded-md hover:bg-blue-800 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none">
                            <svg viewBox="0 0 24 24" enable-background="new 0 0 24 24" class="w-8 h-8 inline-block">
                                <path fill="#FFFFFF" d="M16,10c0,0.553-0.048,1-0.601,1H11v4.399C11,15.951,10.553,16,10,16c-0.553,0-1-0.049-1-0.601V11H4.601
                                          C4.049,11,4,10.553,4,10c0-0.553,0.049-1,0.601-1H9V4.601C9,4.048,9.447,4,10,4c0.553,0,1,0.048,1,0.601V9h4.399
                                          C15.952,9,16,9.447,16,10z" />
                                <span>Add New File</span>
                            </svg>

                    </div>

                </section>
                <section id="containerCode" class="flex flex-col flex-auto border-r border-l border-gray-800">
                    <div class="chat-header px-6 py-4 flex flex-row flex-none justify-between items-center shadow">
                        <div class="flex">
                            <div class="text-xl inline-flex">
                                <div id="idOpenFile" class="hidden"></div>
                                <span id="fileOpenName"
                                    class="flex-1 font-bold rounded-md py-2 px-2 border border-none focus:border-gray-800 bg-gray-900 focus:bg-gray-700 outline-none text-gray-200 focus:shadow-md transition duration-300 ease-in"
                                    type="text" value="" placeholder="Name File" contenteditable></span>
                                <p id="fileOpenExtention" class="flex-1 font-bold py-2 px-0"></p>
                                <p></p>
                            </div>

                        </div>

                        <div class="flex justify-end items-center">

                            <button id="downloadButton" class="material-icons mr-5">
                                cloud_download
                            </button>
                            <button id="printButton" class="material-icons mr-5">
                                print
                            </button>
                            <button id="deleteButton" class="material-icons mr-5">
                                delete
                            </button>
                            <div class="dropdown inline-block relative">
                                <select id="languageSelect"
                                    class="bg-gray-700 text-white font-semibold py-2 px-4 rounded inline-flex items-center"
                                    onchange="onSelectChange(this.value.trim())">
                                    <option value="53">C++</option>
                                    <option value="62">Java</option>
                                    <option value="70">Python</option>
                                    <!-- <option value="82">SQL</option>
                                    <option value="63">Java Script</option> -->
                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="overflow-y-scroll h-full">
                        <div id="editorContainer">
                            <pre id="editor" class="rounded-md m-2"> </pre>
                        </div>
                        <div class="flex-none">
                            <div class="flex flex-row items-center p-2">

                                <div class="relative flex-grow">
                                    <label>
                                        <input id="inputCode"
                                            class="rounded-full py-2 pl-3 pr-10 w-full border border-gray-800 focus:border-gray-700 bg-gray-800 focus:bg-gray-900 focus:outline-none text-gray-200 focus:shadow-md transition duration-300 ease-in"
                                            type="text" value="" placeholder="Input" />
                                        <button type="button"
                                            class="absolute top-0 right-0 mt-2 mr-3 flex flex-shrink-0 focus:outline-none block text-blue-600 hover:text-blue-700 w-6 h-6">

                                        </button>
                                    </label>
                                </div>
                                <button type="button" id="runButton"
                                    class="flex flex-shrink-0 focus:outline-none mx-2 block text-blue-600 hover:text-blue-700 w-6 h-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26"
                                        class="w-full h-full fill-current">
                                        <polygon class="play-btn__svg"
                                            points="9.33 6.69 9.33 19.39 19.3 13.04 9.33 6.69" />
                                        <path class="play-btn__svg"
                                            d="M26,13A13,13,0,1,1,13,0,13,13,0,0,1,26,13ZM13,2.18A10.89,10.89,0,1,0,23.84,13.06,10.89,10.89,0,0,0,13,2.18Z" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-2 h-full">
                            <div
                                class="rounded-md pr-10 w-full h-full border border-gray-800 focus:border-gray-700 bg-gray-800 focus:bg-gray-900 focus:outline-none text-gray-200 focus:shadow-md transition duration-300 ease-in">
                                <span>
                                    <pre id="ans">

                                    </pre>
                                </span>
                            </div>
                        </div>
                    </div>

                </section>
                <section
                    class="flex flex-col flex-none overflow-auto w-24 group lg:w-1/5 md:w-2/5 transition-all duration-300 ease-in-out ">
                    <div class="header p-4 flex flex-row justify-between items-center flex-none ">
                        <!-- <div class="w-16 h-16 relative flex flex-shrink-0 " style="filter: invert(100%); ">
                          <img class="rounded-full w-full h-full object-cover " alt="ravisankarchinnam " src="https://avatars3.githubusercontent.com/u/22351907?s=60 " />
                      </div> -->
                        <p class="text-xl font-bold hidden md:block group-hover:block ">Recent Code History</p>
                        <!-- <a href="# " class="block rounded-full hover:bg-gray-700 bg-gray-800 w-10 h-10 p-2 hidden md:block group-hover:block ">
                          <svg viewBox="0 0 24 24 " class="w-full h-full fill-current ">
                          <path
                                  d="M6.3 12.3l10-10a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.4l-10 10a1 1 0 0 1-.7.3H7a1 1 0 0 1-1-1v-4a1 1 0 0 1 .3-.7zM8 16h2.59l9-9L17 4.41l-9 9V16zm10-2a1 1 0 0 1 2 0v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h6a1
            1 0 0 1 0 2H4v14h14v-6z "/>
                      </svg>
                      </a> -->
                    </div>

                    <div id="historyFile" class="p-2 flex-1 overflow-y-scroll ">


                    </div>

                </section>
            </main>
        </div>
    </div>
</body>

<script type="text/javascript " src="assets/js/main.js "></script>
<script src="texteditor.js "></script>
<script>
    function onSelectChange(selectedVal) {

        console.log(selectedVal)
        if (selectedVal != undefined && selectedVal != null && selectedVal != " ") {
            $("#runButton").off('click');
            codeEditor(selectedVal)
        }
    }
    window.onload = function () {
        getMainData()
        codeEditor();
        getAllFile();
        getHistoryFile();
        createNewFile();
        downloadFile();
        deleteFile();
        printFile();
        uploadFile();
    };
</script>

</html>